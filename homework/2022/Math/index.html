<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style>
            .banner_bg {
                background:url(bg.jpg);
                background-repeat:no-repeat;
                background-size:cover;
                -webkit-filter:blur(15px);
                -moz-filter:blur(15px);
                -o-filter:blur(15px);
                -ms-filter:blur(15px);
                filter:blur(15px);
                position:fixed;
                -webkit-background-size: cover;
                -o-background-size: cover;
                background-position: center 0;
                width:100%;
                height:100%;
                min-width: 1000px;
                z-index:-10;
                zoom: 1;
            }
            .swiper-container {
                position: sticky;
                top:0;
                left:0;
                color: black;
                font-size: 36px;
                font-weight: 700;
                text-shadow: 0 2px 20px rgba(255, 255, 255, 0.1);
            }
        </style>
        <title>九连环 By ljs(网名:DSCS2009)</title>
        <script>
            var data = [], step, because, out, number = 9;
            function time() {
                var d = new Date;
                return d.getTime();
            }
            function LogData() {
                out += "此时九连环状态应为:" + " </br> ";
                out += data[0];
                for(var i = 1; i < number; i++) {
                    out += " " + data[i];
                }
                out += " </br> ";
            }
            function DownRing(n) {
                if(n > 2) DownRing(n - 2);
                data[n - 1] = 0;
                step++;
                if(n == 1) because = "第一环可以自由上下";
                if(n >= 2) because = "前 " + (n - 2) + " 个环已经全部下架, 而第 " + (n - 1) + " 个还在架上";
                out += "第 " + step + " 步: 因为 " + because + ", 所以可以下第 " + n + " 环" + " </br> ";
                LogData();
                if(n > 2) UpRing(n - 2);
                if(n > 1) DownRing(n - 1);
            }
            function UpRing(n) {
                if(n > 1) UpRing(n - 1);
                if(n > 2) DownRing(n - 2);
                data[n - 1] = 1;
                step++;
                if(n == 1) because = "第一环可以自由上下";
                if(n >= 2) because = "前 " + (n - 2) + " 个环已经全部下架, 而第 " + (n - 1) + " 个还在架上";
                out += "第 " + step + " 步: 因为 " + because + ", 所以可以上第 " + n + " 环" + " </br> ";
                LogData();
                if(n > 2) UpRing(n - 2);
            }
            function run_on() {
                var start = time();
                for(var i = 0; i < number; i++) {
                    data[i] = 0;
                }
                step = 0;
                out = "运行时间:" + Date() + " </br> ";
                UpRing(number);
                var end = time();
                out = "使用了 " + (end - start) + " 毫秒. </br> " + out;
                document.getElementById("step").innerHTML = "步数: " + step + " 步";
                document.getElementById("answer").innerHTML = out;
                // console.log(out);
            }
            function run_off() {
                var start = time();
                for(var i = 0; i < number; i++) {
                    data[i] = 1;
                }
                step = 0;
                out = "运行时间:" + Date() + " </br> ";
                DownRing(number);
                var end = time();
                out = "使用了 " + (end - start) + " 毫秒. </br> " + out;
                document.getElementById("step").innerHTML = "步数: " + step + " 步";
                document.getElementById("answer").innerHTML = out;
                // console.log(out);
            }
            function run_clean() {
                document.getElementById("step").innerHTML = "步数: [此处在按钮按下后会显示步数] 步";
                document.getElementById("answer").innerHTML = "[此处在按钮按下后会显示结果]";
            }
            function run_set() {
                // console.log(document.getElementById("number").value);
                number = document.getElementById("number").value;
                //alert("已经设置n连环, n=" + document.getElementById("number").value);
            }
        </script>
    </head>
    <body>
    <div class="banner_box">
    <div class="banner_bg"></div>
    <div class="banner swiper-container">
        <div class="start">
            <center><h1>九连环</h1></center>
            <h6 align="right">By ljs(网名:DSCS2009)</h6>
        </div>
        <div class="menu">
            <center>
                <hr/>
                <h4>菜单</h4>
                <h6>1.九连环简史</h6>
                <h6>2.九连环规则</h6>
                <h6>3.九连环解法</h6>
                <h6>4.JavaScript写的n连环解法程序</h6>
            </center>
        </div>
        <div class="history">
            <hr/>
            <center><h4>1.九连环简史</h4>
                <h5>与九连环有关的文字记载在我国古籍中比较多见，因此九连环在宋代（960~1279）已经流行之说是被广泛接受的，九连环至少有800年历史也是没有疑问的。</h5>
                <h5>但九连环的起源就有种种不同的说法了，此处举其中3种说法:</h5>
            </center>
            <h6>· ①春秋战国说: 出现时间->春秋战国时期 原因->庄子著作的《天下篇》中有“连环可解也”的句子。</h6>
            <h6>· ②西汉说: 出现时间->西汉之前 原因->一个故事与九连环有关（不知是不是后世编造）</h6>
            <h6>· ③三国说: 出现时间->三国 原因->诸葛亮发明孔明锁,与九连环密切相关</h6>
        </div>
        <div class="rule">
            <hr/>
            <center><h4>2.九连环规则</h4></center>
            <h6>九连环主题是九个套在剑形环柄上的环，环柄两端分别叫做柄钗和柄把，环可以从柄钗这一端套上环柄或取下，但不能从柄把这一端套上、取下。</h6>
            <h6>9个环都套上后，我们从柄钗到柄把依次从1标到9。</h6>
            <h6>每个环上都又套着一个带环杆的环，一号环穿过二号环，二号环的环杆穿过三号环……</h6>
            <h6>以此类推环杆被底板连接在一起，从而形成9个环错综相扣的关系。</h6>
            <h6>Q: 如何将九连环9个环套上再取下？</h6>
        </div>
        <div class="solution">
            <hr/>
            <center><h4>3.九连环解法</h4></center>
            <h5>1．单环上、下法</h5>
            <h6>单环的上、下法就是把1号环装上或取下的方法。上环时，左手用拇指、食指和中指拿住环转90°，让它自下而上穿过环柄的2根横杠，再转90°，把它左移过柄钗后适当降低高度，就可套到环柄上去了。</h6>
            <h5>2．双环上、下法</h5>
            <h5>双环上下法与单环上下法是一样的，只不过需同时拿住两个环操作。只适用于1号、2号两环。</h5>
            <h5>3．3号环上、下法</h5>
            <h5>所谓3号环上下法其实泛指（n+1）号环的上下法，此时n号环必须在柄上，1~（n-1）号环必须在柄下。上环时，拿住（n-1）号环，按单环上法套到柄上，n号环也会跟着移动，虽然由于环杆的作用不会脱离开环柄，但（n-1）号环套上环柄后，n号环是“浮”在环柄内侧的横杠上的。因此，在装上（n-1）号环以后，应随手把n号环“推”回到柄上去，在2个横杠上重新架好。</h5>
            <br>
            <h5>9连环全部解法步骤（注意: 12下、12上、13上算一步，所以JavaScript代码求得341步而只有256步）</h5>
            <h6>
                1下(第一步，1号环下)<br>
                3下 1上 12下(3步，2、3号环下。连前共4步)<br>
                5下 12上 1下 3上 1上 12下　4下　12上　1下　3下　1上　12下(12步，4、5号环下。连前共16步)<br>
                7下12上1下3上1上12下4上12上1下3下1上12下5上12上1下3上1上12下4下12上1下3下1上12下6下12上1下3上1上12下4上12上1下3下1上12下5下12上1下3上1上12下4下12上1下3下1上12下(48步，6、7号环下。连前共64步)<br>
                9下12上1下3上1上12下4上12上1下3下1上12下5上12上1下3上1上12下4下12上1下3下1上12下6上12上1下3上1上12下4上12上1下3下1上12下5下12上1下3上1上12下4下12上1下3下1上12下7上12上1下3上1上12下4上12上1下3下1上12下5上13上1下3上1上12下4下12上1下3下1上12下6下12上1下3上1上12下4上12上1下3下1上12下5下12上1下3上1上12下4下12上1下3下1上12下(96步，至此柄上剩7、8号环。连前共160步)<br>
                8下12上1下3上1上12下4上12上1下3下1上12下5上12上1下3上1上12下4下12上1下3下1上12下6上12上1下3上1上12下4上12上1下3下1上12下5下12上1下3上1上12下4下12上1下3下1上12下(48步，至此柄上剩6、7号环。连前共208步)<br>
                7下12上1下3上1上12下4上12上1下3下1上12下5上12上1下3上1上12下4下12上1下3下1上12下(24步，至此柄上剩5、6号环。连前共232步)<br>
                6下12上1下3上1上12下4上12上1下3下1上12下(12步。至此柄上剩4、5号环。连前共244步)<br>
                5下12上1下3上1上12下(6步，至此柄上剩3、4号环。连前共250步)<br>
                4下12上1下(3步，至此柄上剩2、3号环。连前共253步)<br>
                3下1上(2步，至此柄上剩1、2号环。连前共255步)<br>
                12下(1步，结束，9个环全部解下，共256步)
            </h6>
        </div>
        <div class="JavaScript app">
            <center>
                <hr/>
                <h5>注:状态由01表示 一个状态由a[n]表示，n为连环数，a[i]:0->在环柄下 1->在环柄上。</h5>
                <h4>4.JavaScript写的n连环解法程序（JavaScript没有C++速度快，慢点就慢点吧...）</h4>
                n=<input id="number" type="text" onkeyup="value=this.value.replace(/\D+/g,''); run_set();" value="9"><br/> 
                <button type="button" onclick="run_clean()">清空结果</button>
                <button type="button" onclick="run_on()">开始运行九连环模拟程序(安装)</button>
                <button type="button" onclick="run_off()">开始运行九连环模拟程序(拆卸)</button>
                <h3>运行结果:</h3>
                <h4 id="step">步数: [此处在按钮按下后会显示步数] 步</h4>
                <h4 id="answer">[此处在按钮按下后会显示结果]</h4>
            </center>
        </div>
    </div>
    </div>
    </div>
    </body>
</html>
