<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <body bgcolor="#90d7ec"></body>
        <title>......</title>
        <script>
            var data = [], step, because, out;
            function LogData() {
                out += "此时九连环状态应为:" + " </br> ";
                out += data[0] + " " + data[1] + " " + data[2] + " " + data[3] + " " + data[4] + " " + data[5] + " " + data[6] + " " + data[7] + " " + data[8] + " </br> ";
            }
            function DownRing(n) {
                if(n > 2) DownRing(n - 2);
                data[n - 1] = 0;
                step++;
                if(n == 1) because = "第一环可以自由上下";
                if(n >= 2) because = "前 " + (n - 2) + " 个环已经全部下架, 而第 " + (n - 1) + " 个还在架上";
                out += "第 " + step + " 步: 因为 " + because + ", 所以可以下第 " + n + " 环" + " </br> ";
                LogData();
                if(n > 2) UpRing(n - 2);
                if(n > 1) DownRing(n - 1);
            }
            function UpRing(n) {
                if(n > 1) UpRing(n - 1);
                if(n > 2) DownRing(n - 2);
                data[n - 1] = 1;
                step++;
                if(n == 1) because = "第一环可以自由上下";
                if(n >= 2) because = "前 " + (n - 2) + " 个环已经全部下架, 而第 " + (n - 1) + " 个还在架上";
                out += "第 " + step + " 步: 因为 " + because + ", 所以可以上第 " + n + " 环" + " </br> ";
                LogData();
                if(n > 2) UpRing(n - 2);
            }
            function run() {
                data = [1, 1, 1, 1, 1, 1, 1, 1, 1];
                step = 0;
                out = "运行时间:" + Date() + " </br> ";
                DownRing(9);
                document.getElementById("step").innerHTML = "步数: " + step + " 步";
                document.getElementById("answer").innerHTML = out;
                // console.log(out);
            }
        </script>
    </head>
    <body>
    
    <button type="button" onclick="run()">开始运行九连环模拟程序</button>
    <h3>运行结果</h3>
    <h4 id="step">步数: [此处在按钮按下后会显示步数] 步</h4>
    <h4 id="answer">[此处在按钮按下后会显示结果]</h4>
    </body>
</html>